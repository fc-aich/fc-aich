{{/* Akzeptiert beide Formen:

gallery:
  - /uploads/pic1.jpg
  - /uploads/pic2.jpg

ODER

gallery:
  - image: /uploads/pic1.jpg
    caption: "Jubel nach dem 1:0"
*/}}

{{ $items := .Params.gallery }}
{{ if not $items }}{{ return }}{{ end }}

<div class="gallery-grid">
  {{ range $i, $it := $items }}
    {{/* Wenn $it eine Map ist -> Objektform; sonst String (Pfad) */}}
    {{ $src := cond (reflect.IsMap $it) (index $it "image") $it }}
    {{ $cap := cond (reflect.IsMap $it) (index $it "caption") "" }}

    {{ if $src }}
      <figure class="gallery-item">
        <img loading="lazy" src="{{ $src | relURL }}" alt="{{ $.Title }} â€“ Bild {{ add $i 1 }}">
        {{ with $cap }}<figcaption>{{ . }}</figcaption>{{ end }}
      </figure>
    {{ end }}
  {{ end }}
</div>
